(function(k,h,l){var g={sequence:"UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT B A START".split(" "),variance:20,debug:!1,vars:{pos:0,coords:[0,0],touch:{}},key:function(a){var b="";switch(a.keyCode){case 13:b="START";break;case 37:b="LEFT";break;case 38:b="UP";break;case 39:b="RIGHT";break;case 40:b="DOWN";break;case 66:b="B";break;case 65:b="A";break;default:b=""}g.key_evaluate(b);return!0},key_evaluate:function(a){var b=new CustomEvent("konami"),d=this.vars.pos,f=this.sequence;this.debugging(a);f[d]===
a?d+=1:(d=0,this.vars.coords=[0,0],this.vars.touch={});d===f.length&&(d=0,h.dispatchEvent(b));this.vars.pos=d;return!0},touch:function(a){g.vars.coords=[a.changedTouches[0].clientX,a.changedTouches[0].clientY];g.touch_evaluate();return!1},touch_evaluate:function(){var a=this.vars.coords,b="",d=this.vars.pos,f=this.sequence,c=this.vars.touch,e=this.variance;0===d&&(c.up=c.up||a);Math.abs(a[0]-c.up[0])<e&&Math.abs(a[1]-c.up[1])<e&&(b=b||"UP");a[1]>c.up[1]&&(Math.abs(a[1]-c.up[1])>e&&Math.abs(a[0]-c.up[0])<
e)&&(c.down=c.down||a,b=b||"DOWN");a[0]<c.up[0]&&Math.abs(a[0]-c.up[0])>e&&(c.left=c.left||a,b=b||"LEFT");a[0]>c.up[0]&&Math.abs(a[0]-c.up[0])>e&&(c.right=c.right||a,b=b||"RIGHT");-1===["UP","DOWN","LEFT","RIGHT"].indexOf(f[d])&&(b=f[d]);this.vars.touch=c;this.key_evaluate(b);return!0},init:function(){this.events();return!0},events:function(){h.addEventListener("keyup",this.key);h.addEventListener("touchend",this.touch);return!0},debugging:function(a){if(!1===this.debug)return!1;console.log(a);return!0}};
k.Konami=g})(window,document);
