(function(f,c,g){var d={trigger:"konami",sequence:"UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT B A START".split(" "),limit:!1,debug:!1,vars:{pos:0,touchstart:[0,0],touchend:[0,0]},key:function(a){var b="";switch(a.keyCode){case 13:b="START";break;case 37:b="LEFT";break;case 38:b="UP";break;case 39:b="RIGHT";break;case 40:b="DOWN";break;case 66:b="B";break;case 65:b="A";break;default:b=""}d.key_evaluate(b);return!0},key_evaluate:function(a){var b=this.trigger,e=this.vars.pos,d=this.sequence;this.debugging(a);
e=d[e]===a?e+1:0;e===d.length&&0!==this.limit&&(e=0,!1!==this.limit&&(this.limit-=1),"function"===typeof dispatchEvent?(b=new CustomEvent(b),c.dispatchEvent(b)):c.documentElement[b]+=1);this.vars.pos=e;return!0},touchstart:function(a){d.vars.touchstart=[a.changedTouches[0].clientX,a.changedTouches[0].clientY];return!0},touchend:function(a){d.vars.touchend=[a.changedTouches[0].clientX,a.changedTouches[0].clientY];d.touch_evaluate();return!0},touch_evaluate:function(){var a="",b=this.vars.pos,d=this.sequence,
a=this.vars.touchstart,c=this.vars.touchend,a=Math.abs(a[0]-c[0])<Math.abs(a[1]-c[1])?a[1]>c[1]?"UP":"DOWN":a[0]>c[0]?"LEFT":"RIGHT";-1===["UP","DOWN","LEFT","RIGHT"].indexOf(d[b])&&(a=d[b]);this.key_evaluate(a);return!0},init:function(){this.events();return!0},listen:function(a){c.addEventListener?c.addEventListener(d.trigger,a):c.documentElement.attachEvent("onpropertychange",function(b){b.propertyName===d.trigger&&a.call()})},listener:function(a,b){c.addEventListener?c.addEventListener(a,b):c.attachEvent("on"+
a,b)},events:function(){this.listener("keyup",this.key);this.listener("touchstart",this.touchstart);this.listener("touchend",this.touchend);return!0},debugging:function(a){if(!1===this.debug)return!1;"object"===typeof console?console.log(a):alert(a);return!0}};f.Konami=d})(window,document);
